<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Calculator</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <h1>Financial Calculator</h1>

        <div class="tabs">
            <button class="tab-button active" data-tab="emi">EMI Calculator</button>
            <button class="tab-button" data-tab="sip">SIP Calculator</button>
            <button class="tab-button" data-tab="swp">SWP Calculator</button>
        </div>

        <div id="emi" class="calculator-section tab-content active">
            <h2>EMI Calculator with Prepayment Options</h2>
            <div class="comparison-controls">
                <label class="comparison-toggle">
                    <input type="checkbox" id="enableComparison" onchange="toggleComparison()">
                    Enable Loan Comparison
                </label>
            </div>
            <div class="loan-comparison">
                <div class="loan-form" id="loan1">
                    <h3>Loan Scenario 1</h3>
                    <div class="loan-details">
                        <h3>Loan Details</h3>
                        <div class="input-group">
                            <label for="loanAmount">Loan Amount (₹)</label>
                            <input type="number" id="loanAmount" min="0" step="1000" placeholder="e.g., 100000">
                        </div>
                        <div class="input-group">
                            <label for="interestRate">Annual Interest Rate (%)</label>
                            <input type="number" id="interestRate" min="1" step="0.1" placeholder="e.g., 8">
                        </div>
                        <div class="input-group">
                            <label for="loanTerm">Loan Period (months)</label>
                            <input type="number" id="loanTerm" min="1" step="1" placeholder="e.g., 12">
                        </div>
                        <div class="input-group">
                            <label for="monthlyExtra">Monthly Extra Payment (₹)</label>
                            <input type="number" id="monthlyExtra" min="0" step="100" placeholder="e.g., 1000">
                        </div>
                    </div>

                    <div class="prepayment-section">
                        <h3>Lumpsum Prepayments</h3>
                        <div class="prepayment-header">
                            <div class="prepayment-col">Month</div>
                            <div class="prepayment-col">Amount</div>
                            <div class="prepayment-col action"></div>
                        </div>
                        <div class="prepayment-list" id="prepaymentList">
                            <div class="prepayment-row">
                                <div class="input-group">
                                    <input type="number" class="prepay-month" min="1" step="1" placeholder="Month">
                                </div>
                                <div class="input-group">
                                    <input type="number" class="prepay-amount" min="0" step="1000" placeholder="Amount">
                                </div>
                                <div class="action-col">
                                    <button class="remove-prepayment" title="Remove" data-action="add">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button onclick="calculateEMI('loan1')" class="calculate-button">Calculate Loan 1</button>
                </div>

                <div class="loan-form" id="loan2">
                    <h3>Loan Scenario 2</h3>
                    <div class="loan-details">
                        <h3>Loan Details</h3>
                        <div class="input-group">
                            <label for="loanAmount2">Loan Amount (₹)</label>
                            <input type="number" id="loanAmount2" min="0" step="1000" placeholder="e.g., 100000">
                        </div>
                        <div class="input-group">
                            <label for="interestRate2">Annual Interest Rate (%)</label>
                            <input type="number" id="interestRate2" min="1" step="0.1" placeholder="e.g., 8">
                        </div>
                        <div class="input-group">
                            <label for="loanTerm2">Loan Period (months)</label>
                            <input type="number" id="loanTerm2" min="1" step="1" placeholder="e.g., 12">
                        </div>
                        <div class="input-group">
                            <label for="monthlyExtra2">Monthly Extra Payment (₹)</label>
                            <input type="number" id="monthlyExtra2" min="0" step="100" placeholder="e.g., 1000">
                        </div>
                    </div>

                    <div class="prepayment-section">
                        <h3>Lumpsum Prepayments</h3>
                        <div class="prepayment-header">
                            <div class="prepayment-col">Month</div>
                            <div class="prepayment-col">Amount</div>
                            <div class="prepayment-col action"></div>
                        </div>
                        <div class="prepayment-list" id="prepaymentList2">
                            <div class="prepayment-row">
                                <div class="input-group">
                                    <input type="number" class="prepay-month" min="1" step="1" placeholder="Month">
                                </div>
                                <div class="input-group">
                                    <input type="number" class="prepay-amount" min="0" step="1000" placeholder="Amount">
                                </div>
                                <div class="action-col">
                                    <button class="remove-prepayment" title="Remove" data-action="add">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button onclick="calculateEMI('loan2')" class="calculate-button">Calculate Loan 2</button>
                </div>

                <div id="emiResult" class="result">
                    <div class="summary-section">
                        <h3>Summary</h3>
                        <div class="summary-grid">
                            <!-- Loan 1 Summary -->
                            <div class="loan-summary" id="summary1">
                                <h4>Loan 1 Summary</h4>
                                <div class="summary-item">
                                    <label>Monthly EMI</label>
                                    <span id="monthlyEMI"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Total Interest (Without Prepayment)</label>
                                    <span id="totalInterestWithout"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Total Interest (With Prepayment)</label>
                                    <span id="totalInterest"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Total Payment</label>
                                    <span id="totalPayment"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Interest Saved</label>
                                    <span id="interestSaved"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Original Loan Period</label>
                                    <span id="originalTerm"></span>
                                </div>
                                <div class="summary-item">
                                    <label>New Loan Period</label>
                                    <span id="newTerm"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Time Saved</label>
                                    <span id="timeSaved"></span>
                                </div>
                            </div>

                            <!-- Loan 2 Summary -->
                            <div class="loan-summary" id="summary2">
                                <h4>Loan 2 Summary</h4>
                                <div class="summary-item">
                                    <label>Monthly EMI</label>
                                    <span id="monthlyEMI2"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Total Interest (Without Prepayment)</label>
                                    <span id="totalInterestWithout2"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Total Interest (With Prepayment)</label>
                                    <span id="totalInterest2"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Total Payment</label>
                                    <span id="totalPayment2"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Interest Saved</label>
                                    <span id="interestSaved2"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Original Loan Period</label>
                                    <span id="originalTerm2"></span>
                                </div>
                                <div class="summary-item">
                                    <label>New Loan Period</label>
                                    <span id="newTerm2"></span>
                                </div>
                                <div class="summary-item">
                                    <label>Time Saved</label>
                                    <span id="timeSaved2"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="charts-section">
                        <!-- Loan 1 Charts -->
                        <div class="loan-charts" id="charts1">
                            <h4>Loan 1 Charts</h4>
                            <div class="chart">
                                <canvas id="paymentBreakdown"></canvas>
                            </div>
                            <div class="chart">
                                <canvas id="outstandingBalance"></canvas>
                            </div>
                        </div>

                        <!-- Loan 2 Charts -->
                        <div class="loan-charts" id="charts2">
                            <h4>Loan 2 Charts</h4>
                            <div class="chart">
                                <canvas id="paymentBreakdown2"></canvas>
                            </div>
                            <div class="chart">
                                <canvas id="outstandingBalance2"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="amortization-tables">
                        <!-- Loan 1 Table -->
                        <div class="loan-table" id="table1">
                            <h4>Loan 1 Amortization Schedule</h4>
                            <div class="table-container">
                                <table id="amortizationTable">
                                    <thead>
                                        <tr>
                                            <th>Month</th>
                                            <th>EMI</th>
                                            <th>Principal</th>
                                            <th>Interest</th>
                                            <th>Monthly Extra</th>
                                            <th>Lumpsum</th>
                                            <th>Balance</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Loan 2 Table -->
                        <div class="loan-table" id="table2">
                            <h4>Loan 2 Amortization Schedule</h4>
                            <div class="table-container">
                                <table id="amortizationTable2">
                                    <thead>
                                        <tr>
                                            <th>Month</th>
                                            <th>EMI</th>
                                            <th>Principal</th>
                                            <th>Interest</th>
                                            <th>Monthly Extra</th>
                                            <th>Lumpsum</th>
                                            <th>Balance</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="sip" class="calculator-section tab-content">
            <h2>SIP Calculator</h2>
            <div class="input-group">
                <label for="sipAmount">Monthly SIP Amount (₹)</label>
                <input type="number" id="sipAmount" min="0" step="100" placeholder="e.g., 5000">
            </div>
            <div class="input-group">
                <label for="sipYears">Investment Period (Years)</label>
                <input type="number" id="sipYears" min="1" step="1" placeholder="e.g., 10">
            </div>
            <div class="input-group">
                <label for="sipReturn">Expected Return Rate (%)</label>
                <input type="number" id="sipReturn" min="1" step="0.1" placeholder="e.g., 12">
            </div>
            <div class="input-group">
                <label for="stepUp">Annual Step-up (%)</label>
                <input type="number" id="stepUp" min="0" step="0.1" placeholder="e.g., 5">
            </div>
            <div class="input-group">
                <label for="sipInflation">Expected Inflation Rate (%)</label>
                <input type="number" id="sipInflation" min="0" step="0.1" placeholder="e.g., 6">
            </div>
            <button onclick="calculateSIP()">Calculate SIP</button>
            <div id="sipResult" class="result"></div>
        </div>

        <div id="swp" class="calculator-section tab-content">
            <h2>SWP Calculator</h2>
            <div class="input-group">
                <label for="initialAmount">Initial Investment (₹)</label>
                <input type="number" id="initialAmount" min="0" step="1000" placeholder="e.g., 1000000">
            </div>
            <div class="input-group">
                <label for="swpAmount">Monthly Withdrawal (₹)</label>
                <input type="number" id="swpAmount" min="0" step="100" placeholder="e.g., 10000">
            </div>
            <div class="input-group">
                <label for="swpYears">Withdrawal Period (Years)</label>
                <input type="number" id="swpYears" min="1" step="1" placeholder="e.g., 20">
            </div>
            <div class="input-group">
                <label for="swpReturn">Expected Return Rate (%)</label>
                <input type="number" id="swpReturn" min="1" step="0.1" placeholder="e.g., 8">
            </div>
            <div class="input-group">
                <label for="swpInflation">Expected Inflation Rate (%)</label>
                <input type="number" id="swpInflation" min="0" step="0.1" placeholder="e.g., 6">
            </div>
            <button onclick="calculateSWP()">Calculate SWP</button>
            <div id="swpResult" class="result"></div>
        </div>
    </div>
    <script src="js/calculator.js"></script>
</body>

</html>